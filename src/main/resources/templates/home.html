<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VodBot - Multi-Platform E-commerce Management</title>
    <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}"/>
    <script type="text/javascript" th:src="@{/webjars/htmx.org/dist/htmx.min.js}"></script>
    <!-- Hyperscript for fancier stuff -->
    <script type="text/javascript" th:src="@{/webjars/hyperscript.org/dist/_hyperscript.min.js}"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f9fa;
        }
        .hero-section {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            padding: 4rem 0;
            text-align: center;
        }
        .feature-card {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            height: 100%;
            transition: transform 0.2s ease;
        }
        .feature-card:hover {
            transform: translateY(-5px);
        }
        .feature-icon {
            font-size: 3rem;
            color: #007bff;
            margin-bottom: 1rem;
        }
        .navbar-brand {
            font-weight: bold;
            color: #007bff !important;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container">
            <a class="navbar-brand" href="/">
                üì¶ VodBot
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/product-mappings">Product Mappings</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/users">Users</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/api/swagger-ui.html" target="_blank">API Docs</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="hero-section">
        <div class="container">
            <h1 class="display-4 mb-4">VodBot E-commerce Hub</h1>
            <p class="lead">Streamline your multi-platform e-commerce operations with centralized product management</p>
        </div>
    </div>

    <!-- Features Section -->
    <div class="container my-5">
        <h2 class="text-center mb-5">Platform Features</h2>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="feature-card text-center">
                    <div class="feature-icon">üîó</div>
                    <h4>Product Mapping Hub</h4>
                    <p>Central mapping system for SKU, barcode, platform aliases, and ERP codes across Shopee, Lazada, and TikTok Shop</p>
                    <a href="/product-mappings" class="btn btn-primary">Manage Mappings</a>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card text-center">
                    <div class="feature-icon">üè™</div>
                    <h4>Multi-Platform Sync</h4>
                    <p>Automatically sync products from seller platforms and generate SKUs and barcodes when needed</p>
                    <a href="/product-mappings" class="btn btn-outline-primary">Start Syncing</a>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card text-center">
                    <div class="feature-icon">üìä</div>
                    <h4>Inventory Management</h4>
                    <p>Track and manage your inventory across multiple platforms with unified product identifiers</p>
                    <a href="/product-mappings" class="btn btn-outline-primary">View Products</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="container mb-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title mb-0">Quick Actions</h5>
                    </div>
                    <div class="card-body">
                        <div class="row g-3">
                            <div class="col-sm-6">
                                <a href="/product-mappings/create" class="btn btn-success w-100">
                                    ‚ûï Create New Product Mapping
                                </a>
                            </div>
                            <div class="col-sm-6">
                                <a href="/product-mappings" class="btn btn-info w-100">
                                    üìã View All Mappings
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Camera/Barcode Section (Original Content) -->
    <div class="container mb-5">
        <div class="card">
            <div class="card-header">
                <h5 class="card-title mb-0">Barcode Scanner</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="controls mb-3">
                            <label for="cameraSelector" class="form-label">Select Camera:</label>
                            <select class="form-select" id="cameraSelector" hx-on:click="cameraApp.handleCameraChange(this.value)"></select>
                        </div>
                        <div class="d-grid gap-2 d-md-flex mb-3">
                            <button id="startButton" class="btn btn-success" hx-on:click="cameraApp.startCameraClicked()" disabled>Start Camera</button>
                            <button id="stopButton" class="btn btn-danger" hx-on:click="cameraApp.stopCamera()" disabled>Stop Camera</button>
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="mirrorCheckbox" hx-on:change="cameraApp.toggleMirror(this.checked)">
                            <label class="form-check-label" for="mirrorCheckbox">
                                Mirror video (for front cameras)
                            </label>
                        </div>
                        <div class="d-grid gap-2 d-md-flex">
                            <button id="recordButton" class="btn btn-primary" hx-on:click="cameraApp.startRecordingClicked()">Start Recording</button>
                            <button id="stopRecordButton" class="btn btn-warning" hx-on:click="cameraApp.stopRecordingClicked()">Stop Recording</button>
                            <button id="downloadButton" class="btn btn-info" hx-on:click="cameraApp.downloadRecordingClicked()">Download Video</button>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="video-wrapper text-center">
                            <video id="cameraFeed" autoplay playsinline class="img-fluid border rounded" style="max-height: 300px;"></video>
                        </div>
                    </div>
                </div>
                
                <div class="row mt-4">
                    <div class="col-12">
                        <div id="scannedOutput">
                            <h6>Last Scanned Value:</h6>
                            <p id="lastScanValue" class="alert alert-info">Waiting for scan...</p>
                        </div>
                        <div id="scanStatus" class="alert alert-secondary">Ready to scan.</div>
                        <p class="text-muted small">
                            The barcode scanner will automatically detect and capture barcode values when the camera is active.
                        </p>
                        <div id="status"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="home.js"></script>
    <script th:src="@{/webjars/bootstrap/js/bootstrap.bundle.min.js}"></script>
</body>
</html>